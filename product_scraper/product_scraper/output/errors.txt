2019-04-21 17:42:28 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-regal-straight-crop-jeans?ID=8849639&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Jeans', '', '']
2019-04-21 17:42:29 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/tommy-hilfiger-cropped-denim-jacket?ID=8447435&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:30 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/calvin-klein-plus-size-ruffled-high-low-midi-dress?ID=7651646&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Plus Sizes', 'Dresses', '', '']
2019-04-21 17:42:30 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/tommy-hilfiger-textured-one-button-elbow-patches-jacket?ID=8044269&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:30 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-floral-print-dress?ID=8042479&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Dresses', '', '']
2019-04-21 17:42:31 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/under-armour-misty-copeland-leggings?ID=5780511&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Pants & Capris', '', '']
2019-04-21 17:42:32 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/tommy-hilfiger-one-button-blazer?ID=4922559&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:32 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-full-zip-mock-neck-jacket?ID=8908421&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:32 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/michael-michael-kors-mkgo-logo-tape-hoodie?ID=7902429&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', '', '', '']
2019-04-21 17:42:32 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-plus-size-linen-shirt?ID=8569169&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', '', '', '']
2019-04-21 17:42:32 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-gingham-georgette-top?ID=8562431&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Tops', '', '']
2019-04-21 17:42:32 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/calvin-klein-sleeveless-ruffled-wide-leg-jumpsuit?ID=7654766&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Pants & Capris', '', '']
2019-04-21 17:42:32 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-premier-straight-jeans?ID=8907906&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Jeans', '', '']
2019-04-21 17:42:33 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-tummy-control-ruched-halter-one-piece-swimsuit?ID=757922&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Swimwear', '', '']
2019-04-21 17:42:33 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-premier-straight-curvy-jeans?ID=8907908&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Jeans', '', '']
2019-04-21 17:42:33 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-graphic-shirt?ID=8923207&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Tops', '', '']
2019-04-21 17:42:33 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/michael-michael-kors-plus-size-moto-jacket-animal-print-top-miranda-pants?ID=7934649&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 153, in gather_macys_variation
    selected_color = str(parent_details['attributes']['colors']['selectedColor'])
KeyError: 'selectedColor'
2019-04-21 17:42:33 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-plus-size-plaid-cotton-shirt?ID=8569202&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Plus Sizes', 'Tops', '', '']
2019-04-21 17:42:33 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/tommy-hilfiger-zip-front-peplum-jacket?ID=6198698&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:34 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/nike-plus-size-air-hooded-running-jacket?ID=7166730&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Plus Sizes', 'Jackets & Blazers', '', '']
2019-04-21 17:42:34 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/michael-michael-kors-plus-side-zip-trench-coat?ID=5359613&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', '', '', '']
2019-04-21 17:42:34 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/nike-sportswear-windrunner-hooded-jacket?ID=4900051&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:35 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-plus-size-linen-shirt?ID=8569170&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', '', '', '']
2019-04-21 17:42:35 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-denim-shirt?ID=8562412&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Tops', '', '']
2019-04-21 17:42:36 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-floral-print-crepe-a-line-dress?ID=7877838&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Dresses', '', '']
2019-04-21 17:42:36 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-french-terry-sweatpants?ID=8954426&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Pants & Capris', '', '']
2019-04-21 17:42:37 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-plus-size-striped-shirt-tattersall-skinny-pants?ID=9019290&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 153, in gather_macys_variation
    selected_color = str(parent_details['attributes']['colors']['selectedColor'])
KeyError: 'selectedColor'
2019-04-21 17:42:37 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/calvin-klein-plus-size-pointelle-striped-open-front-cardigan?ID=8774295&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Plus Sizes', 'Sweaters', '', '']
2019-04-21 17:42:37 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-linen-pants?ID=8562395&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Pants & Capris', '', '']
2019-04-21 17:42:37 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-plus-size-floral-print-cotton-shirt?ID=8569185&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', '', '', '']
2019-04-21 17:42:38 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-plus-size-linen-shirt?ID=8569183&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', '', '', '']
2019-04-21 17:42:38 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/adidas-warp-knit-ankle-leggings?ID=6757227&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Pants & Capris', '', '']
2019-04-21 17:42:38 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-stretch-striped-skinny-pants?ID=8562438&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Pants & Capris', '', '']
2019-04-21 17:42:38 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-textured-sweater?ID=8562406&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Sweaters', '', '']
2019-04-21 17:42:38 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/nike-61-shine-stripe-cross-back-one-piece-swimsuit?ID=6885349&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Swimwear', '', '']
2019-04-21 17:42:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-colorblocked-full-zip-jacket?ID=8908108&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/calvin-klein-plus-size-ruffled-faux-wrap-skirt?ID=8808721&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Plus Sizes', 'Skirts', '', '']
2019-04-21 17:42:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-sweater-blazer?ID=8908247&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-plus-size-plaid-cotton-shirt?ID=8569203&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', '', '', '']
2019-04-21 17:42:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/tommy-hilfiger-chiffon-v-neck-jersey-jumpsuit-with-flutter-sleeves?ID=8062165&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Pants & Capris', '', '']
2019-04-21 17:42:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/michael-michael-kors-plus-size-logo-tape-top-leggings?ID=7936030&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 153, in gather_macys_variation
    selected_color = str(parent_details['attributes']['colors']['selectedColor'])
KeyError: 'selectedColor'
2019-04-21 17:42:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/nine-west-ruffled-bell-sleeve-jacket?ID=8038479&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Women', 'Jackets & Blazers', '', '']
2019-04-21 17:42:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/nike-plus-size-sportswear-windrunner-jacket?ID=4920961&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Plus Sizes', 'Jackets & Blazers', '', '']
2019-04-21 17:42:40 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/calvin-klein-plus-size-capelet-sheath-dress?ID=7651650&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Plus Sizes', 'Dresses', '', '']
2019-04-21 17:42:40 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-premier-straight-ankle-jeans?ID=8562420&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Jeans', '', '']
2019-04-21 17:42:40 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-striped-cotton-sweater?ID=8923178&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Sweaters', '', '']
2019-04-21 17:42:40 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-striped-cardigan?ID=8562411&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 199, in gather_macys_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Macys', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Macys store's category hierarchy ['Petites', 'Sweaters', '', '']
2019-04-21 17:42:40 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.macys.com/shop/product/lauren-ralph-lauren-petite-shirt-skinny-pants?ID=9019340&CategoryID=188851> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 16, in parse
    loaders = self.productItemLoader.parse_macys(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 108, in parse_macys
    loaders.append(self.gather_macys_variation(sku_obj=product, parent_details=shared_product_details, category_list=macys_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 153, in gather_macys_variation
    selected_color = str(parent_details['attributes']['colors']['selectedColor'])
KeyError: 'selectedColor'
