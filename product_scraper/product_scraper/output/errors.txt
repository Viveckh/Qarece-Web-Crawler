2019-06-30 19:22:48 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/supersonic-hair-dryer-23-75-karat-gold-P441018?icid2=products%20grid:p441018> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Hair Tools', 'Hair Dryers', '']
2019-06-30 19:22:49 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/trinity-facial-toning-device-wrinkle-reducer-attachment-bundle-P393600?icid2=products%20grid:p393600> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Skincare', 'High Tech Tools', 'Facial Cleansing Brushes', '']
2019-06-30 19:22:49 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/trinity-eye-lip-enhancer-attachment-bundle-P385320?icid2=products%20grid:p385320> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Skincare', 'High Tech Tools', 'Facial Cleansing Brushes', '']
2019-06-30 19:22:49 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/blown-a-ouai-noir-set-P436409?icid2=products%20grid:p436409> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:22:49 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/trinity-collagen-booster-bundle-P383179?icid2=products%20grid:p383179> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Skincare', 'High Tech Tools', 'Facial Cleansing Brushes', '']
2019-06-30 19:22:50 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/super-straight-up-bundle-P442582?icid2=products%20grid:p442582> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:22:50 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/powerlift-microcurrent-facial-fit-collection-P429664?icid2=products%20grid:p429664> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Tools & Brushes', 'Value & Gift Sets', '', '']
2019-06-30 19:22:50 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/power-diva-styling-essentials-kit-P431537?icid2=products%20grid:p431537> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Hair Tools', 'Hair Dryers', '']
2019-06-30 19:22:51 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/glo-brilliant-teeth-whitening-device-P281835?skuId=1283548&icid2=products%20grid:p281835> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 247, in parse_sephora
    shared_product_details['attributes'][product['variationType']] = [(obj.get('variationValue', '') + ' ' + obj.get('variationDesc', '')) for obj in product['regularChildSkus'] if obj['variationType'] == product['variationType']]
KeyError: 'regularChildSkus'
2019-06-30 19:22:51 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/classic-good-hair-day-kit-P408695?icid2=products%20grid:p408695> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:22:52 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/orange-sanguine-cologne-absolue-P375817?icid2=products%20grid:p375817> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Women', 'Perfume', '']
2019-06-30 19:22:52 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/clementine-california-P410197?skuId=1900455&icid2=products%20grid:p410197> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Women', 'Perfume', '']
2019-06-30 19:22:57 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/laser-polish-kit-P444152?icid2=products%20grid:p444152> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:22:57 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/beauty-sleep-to-go-P430959?icid2=products%20grid:p430959> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Skincare', 'Wellness', 'Holistic Wellness', '']
2019-06-30 19:22:57 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/acqua-di-gio-gift-style-set-P430349?icid2=products%20grid:p430349> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Men', 'Value & Gift Sets', '', '']
2019-06-30 19:23:00 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/thickening-jumbos-set-P443578?icid2=products%20grid:p443578> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:00 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/polo-blue-3-pc-set-P442935?icid2=products%20grid:p442935> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Value & Gift Sets', 'Cologne Gift Sets', '']
2019-06-30 19:23:01 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/polo-red-3-pc-set-P442936?icid2=products%20grid:p442936> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Value & Gift Sets', 'Cologne Gift Sets', '']
2019-06-30 19:23:01 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/double-take-super-curly-P447120?icid2=products%20grid:p447120> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:01 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/double-take-wavy-P447118?icid2=products%20grid:p447118> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:01 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/double-take-curly-P447119?icid2=products%20grid:p447119> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:02 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/fleur-de-rose-spring-set-P417355?icid2=products%20grid:p417355> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:02 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/scalp-revival-scalp-therapy-essentials-kit-P429960?icid2=products%20grid:p429960> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:04 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/bois-montmartre-candle-P428825?icid2=products%20grid:p428825> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:04 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/vanille-nolita-candle-P428827?icid2=products%20grid:p428827> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:04 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/macaron-candle-set-P436749?icid2=products%20grid:p436749> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:05 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/rose-london-candle-P428826?icid2=products%20grid:p428826> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:05 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/japonica-archive-set-P436754?icid2=products%20grid:p436754> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:05 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/japonica-macron-candle-set-P436747?icid2=products%20grid:p436747> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:05 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/orange-positano-candle-P428828?icid2=products%20grid:p428828> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:05 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/roses-macaron-candle-set-P436748?icid2=products%20grid:p436748> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:06 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/revive-repair-scalp-hair-power-duo-P427719?icid2=products%20grid:p427719> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:06 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/prep-perfect-skin-long-wear-customizable-set-P445416?icid2=products%20grid:p445416> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 247, in parse_sephora
    shared_product_details['attributes'][product['variationType']] = [(obj.get('variationValue', '') + ' ' + obj.get('variationDesc', '')) for obj in product['regularChildSkus'] if obj['variationType'] == product['variationType']]
KeyError: 'regularChildSkus'
2019-06-30 19:23:06 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/caviar-anti-aging-r-smoothing-anti-frizz-essentials-P442800?icid2=products%20grid:p442800> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:09 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/caviar-anti-aging-r-replenishing-moisture-essentials-P442802?icid2=products%20grid:p442802> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:09 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/shimmer-shine-set-P425015?icid2=products%20grid:p425015> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:10 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/volume-jumbo-kit-P446351?icid2=products%20grid:p446351> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:10 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/sea-jumbo-kit-P446352?icid2=products%20grid:p446352> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:11 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/ghost-jumbo-kit-P446353?icid2=products%20grid:p446353> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:11 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/volume-shampoo-conditioner-liter-duo-P435396?icid2=products%20grid:p435396> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:12 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/hydrate-jumbo-kit-P446350?icid2=products%20grid:p446350> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:15 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/shave-123-kit-P429672?icid2=products%20grid:p429672> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Men', 'Value & Gift Sets', 'Skincare Sets', '']
2019-06-30 19:23:16 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/clean-cool-body-basics-P421013?icid2=products%20grid:p421013> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Bath & Body', 'Value & Gift Sets', '', '']
2019-06-30 19:23:18 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/pedestal-warm-tones-gift-set-P436755?icid2=products%20grid:p436755> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:19 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/pedestal-cool-tones-gift-set-P436756?icid2=products%20grid:p436756> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:19 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/girls-night-out-collection-P432412?icid2=products%20grid:p432412> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:19 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/apple-cider-vinegar-scalp-scrub-hair-rinse-duo-P430958?icid2=products%20grid:p430958> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:20 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/the-jack-all-trades-P436137?icid2=products%20grid:p436137> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Men', 'Value & Gift Sets', 'Skincare Sets', '']
2019-06-30 19:23:21 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/superfoods-shampoo-conditioner-hair-pack-P431542?icid2=products%20grid:p431542> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:21 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/banana-coconut-superfoods-shampoo-conditioner-hair-pack-P446343?icid2=products%20grid:p446343> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:22 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/pumpkin-chai-reed-diffuser-P421221?icid2=products%20grid:p421221> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:22 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/linen-reed-diffuser-P428069?icid2=products%20grid:p428069> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:22 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/grab-go-traveler-tm-P425433?icid2=products%20grid:p425433> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Men', 'Value & Gift Sets', 'Skincare Sets', '']
2019-06-30 19:23:24 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/samba-mama-coco-cabana-trio-P443374?icid2=products%20grid:p443374> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Bath & Body', 'Value & Gift Sets', '', '']
2019-06-30 19:23:26 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/living-proof-bring-on-big-hair-volumizing-styling-products-value-set-P444174?icid2=products%20grid:p444174> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:26 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/oily-skin-set-P436118?icid2=products%20grid:p436118> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Men', 'Value & Gift Sets', 'Skincare Sets', '']
2019-06-30 19:23:26 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/living-proof-frizz-fighters-styling-products-value-set-P443579?icid2=products%20grid:p443579> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:28 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/hair-holy-grails-summer-essentials-P445437?icid2=products%20grid:p445437> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:29 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/flowerbomb-travel-duo-P261810?icid2=products%20grid:p261810> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Mini Size', '', '']
2019-06-30 19:23:30 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/beard-grooming-kit-tm-P425428?icid2=products%20grid:p425428> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Men', 'Value & Gift Sets', 'Skincare Sets', '']
2019-06-30 19:23:33 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/no-05-kandilli-candle-P431165?icid2=products%20grid:p431165> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Bath & Body', 'Candles & Home Scents', '', '']
2019-06-30 19:23:34 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/vanille-abricot-vanille-coco-travel-spray-layering-duo-P423551?icid2=products%20grid:p423551> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Mini Size', '', '']
2019-06-30 19:23:35 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/super-curly-curls-on-go-P445739?icid2=products%20grid:p445739> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:36 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/bumble-and-bumble-summer-air-dry-set-P444168?icid2=products%20grid:p444168> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:37 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/not-so-basics-travel-set-P428663?icid2=products%20grid:p428663> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:39 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/flight-club-dry-shampoo-travel-set-P428820?icid2=products%20grid:p428820> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:41 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/10s-across-board-fan-favorite-trial-kit-P443015?icid2=products%20grid:p443015> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:41 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/ghost-wash-go-for-dark-tones-P442791?icid2=products%20grid:p442791> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:42 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/metallic-eye-lip-crayon-P78731877?icid2=products%20grid:p78731877> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 247, in parse_sephora
    shared_product_details['attributes'][product['variationType']] = [(obj.get('variationValue', '') + ' ' + obj.get('variationDesc', '')) for obj in product['regularChildSkus'] if obj['variationType'] == product['variationType']]
KeyError: 'regularChildSkus'
2019-06-30 19:23:42 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/moisture-shine-travel-kit-P416559?skuId=1925098&icid2=products%20grid:p416559> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Mini Size', 'Hair', '', '']
2019-06-30 19:23:43 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/caviar-anti-aging-r-multiplying-volume-trial-kit-P436724?icid2=products%20grid:p436724> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:44 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/summer-style-make-waves-set-P443745?icid2=products%20grid:p443745> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:45 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/instant-fix-kit-P431828?skuId=2081321&icid2=products%20grid:p431828> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Best For', 'Color Care', '']
2019-06-30 19:23:47 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/the-festival-survival-set-P442798?icid2=products%20grid:p442798> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:47 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/frosted-metal-lipstick-P09784333?icid2=products%20grid:p09784333> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 247, in parse_sephora
    shared_product_details['attributes'][product['variationType']] = [(obj.get('variationValue', '') + ' ' + obj.get('variationDesc', '')) for obj in product['regularChildSkus'] if obj['variationType'] == product['variationType']]
KeyError: 'regularChildSkus'
2019-06-30 19:23:48 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/shave-essentials-tm-P425430?icid2=products%20grid:p425430> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Men', 'Value & Gift Sets', 'Skincare Sets', '']
2019-06-30 19:23:48 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/the-easy-ouai-kit-P443758?icid2=products%20grid:p443758> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:51 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/mini-candle-trio-panjore-lychee-japanese-plum-bloom-goji-tarocco-orange-P429550?icid2=products%20grid:p429550> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:51 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/smooth-shine-P424204?icid2=products%20grid:p424204> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Hair Styling & Treatments', 'Hair Oil', '']
2019-06-30 19:23:51 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/mini-candle-trio-nissho-soleil-baltic-amber-french-cade-lavender-P429551?icid2=products%20grid:p429551> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
2019-06-30 19:23:58 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/superfoods-mini-hair-pack-P444166?icid2=products%20grid:p444166> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Hair', 'Value & Gift Sets', '', '']
2019-06-30 19:23:58 [scrapy.core.scraper] ERROR: Spider error processing <GET https://www.sephora.com/product/holiday-scented-candle-ornament-P423189?icid2=products%20grid:p423189> (referer: None)
Traceback (most recent call last):
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 30, in process_spider_output
    for x in result:
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/middlewares.py", line 35, in process_spider_output
    for i in result:
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/Users/viveckh/anaconda3/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/spiders/products.py", line 22, in parse
    loaders = self.productItemLoader.parse_sephora(product_url=request_url, html_dump=response)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 256, in parse_sephora
    loaders.append(self.gather_sephora_variation(sku_obj=product['currentSku'], parent_details=shared_product_details, category_list=sephora_category_list, is_parent=True, is_variable=is_variable_product))
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 314, in gather_sephora_variation
    category, weight, profit_margin_rate, estimated_shipping_cost_in_usd, estimated_profit_in_usd, final_price_in_usd, final_price_in_npr = self.map_and_calculate(store='Sephora', category_list=category_list, original_price_in_usd=original_price_in_usd)
  File "/CodeForLyf/qarece-web-crawler/product_scraper/product_scraper/itemloaders.py", line 374, in map_and_calculate
    raise Exception("Could not find a qarece mapping in category mapping file for %s store's category hierarchy %s" % (store, padded_category_list))
Exception: Could not find a qarece mapping in category mapping file for Sephora store's category hierarchy ['Fragrance', 'Candles & Home Scents', '', '']
